<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="css/imageview.css">
		<link rel="stylesheet" href="css/mui.min.css">
		<style>
			html,
			body {
				background-color: #efeff4;
			}
			
			.mui-bar .mui-pull-left .mui-icon {
				padding-right: 5px;
				font-size: 28px;
			}
			
			.mui-bar .mui-btn {
				font-weight: normal;
				font-size: 17px;
			}
			
			.mui-bar .mui-btn-link {
				top: 1px;
			}
			
			.mui-content img {
				width: 100%;
			}
			
			.hm-description {
				margin: 15px;
			}
			
			.hm-description>li {
				font-size: 14px;
				color: #8f8f94;
			}
		</style>
	</head>

	<body>
		<script type="text/javascript">
			var count = 0;
			function change() {
				if(count == 0) {
					var a = document.getElementById("ts");
					a.style.color = "green";
					a.style.backgroundColor = "whitesmoke";
					a.innerHTML = "已关注";
					count++;
				} else {
					alert("取消关注成功！")
					var a = document.getElementById("ts");
					a.style.color = "white";
					a.style.backgroundColor = "#4CD964";
					a.innerHTML = "关注";
					count = 0;
				}
			}
		</script>

		<header id="header" class="mui-bar mui-bar-transparent">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left" style="color: black;"></a>
			<h1 class="mui-title">春春</h1>
		</header>

		<div class="mui-content">
			<!--静态图片-->
			<img id="img1" src="img/12.jpg" />
			<div class="mui-scroll">
				<div class="mui-card">
					<div class="mui-card-header">
						<!-- <a href="javascript:;" > -->
						<img src="img/12.jpg" style="height:30%; width: 25%; border-radius:100px;" />
						<!-- </a> -->
						<div class="mui-media-body" style="float:left;margin-left: 30%;">
							<button id="xj" title="春春" pic="img/12.jpg" type="button" style="border-radius:15px;" class="mui-btn">消息</button>
						</div>
						<div class="aaa" style="float: right;">
							<button id="ts" type="button" style="border-radius:15px;" class="mui-btn mui-btn-green" onclick="change()">关注</button>
							<!--<a href="" id="on" onclick="ch()">关注  -->
						</div>
					</div>
					<div style="height: 2px;"></div>

					<div class="mui-content-padded">
						<p> &nbsp;&nbsp;承德市 双桥区 1992.3.25 出生</p>
						<ul class="mui-table-view mui-grid-view" id="loop_switch">
							<li class="mui-table-view-cell mui-media mui-col-xs-6" style="float: left;margin-left: 0px; width: 33.4%;">
								<img class="mui-media-object" src="img/jianshen.jpg" data-preview-src="" data-preview-group="1" />
							</li>
							<li class="mui-table-view-cell mui-media mui-col-xs-6" style="float: left; width: 33.4%;">
								<img class="mui-media-object" src="img/jianshen4.jpg" data-preview-src="" data-preview-group="1" />
							</li>
							<li class="mui-table-view-cell mui-media mui-col-xs-6" style="width: 33.4%;">
								<img class="mui-media-object" src="img/kaluli.jpg" data-preview-src="" data-preview-group="1" />
							</li>
						</ul>
					</div>
					<div class="mui-card-content">
						<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;根本没有正确的选择，我们只不过是要努力奋斗把当初的选择变得正确。</p>

					</div>
					<div class="mui-card-footer">
						<ul class="mui-table-view mui-grid-view" id="loop_switch">
							<li class="mui-table-view-cell mui-media mui-col-xs-6" style="float: left;margin-left: 0px; width: 33.4%;">
								<h4>5856</h4>
								<p>粉丝</p>
							</li>
							<li class="mui-table-view-cell mui-media mui-col-xs-6" style="float: left; width: 33.4%;">
								<h4>975</h4>
								<p> 关注</p>
							</li>
							<li class="mui-table-view-cell mui-media mui-col-xs-6" style="width: 33.4%;">
								<h4>435</h4>
								<P> 动态</P>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script src="js/mui.min.js"></script>
	<script src="js/mui.zoom.js"></script>
	<script src="js/mui.previewimage.js"></script>
	<script src="js/mui.min.js"></script>
	<script type="text/javascript">
		mui.init({
			swipeBack: true //启用右滑关闭功能
		});
		var slider = document.getElementById("slider");
		mui('.mui-input-group').on('change', 'input', function() {
			if(this.checked) {
				switch(this.value) {
					case 'static':
						document.getElementById("img1").className = "";
						document.getElementById("slider").classList.add("mui-hidden");
						break;
					case 'slider':
						document.getElementById("img1").className = "mui-hidden";
						if(slider.classList.contains("mui-hidden")) {
							document.getElementById("slider").classList.remove("mui-hidden");
						}
						break;
				}
			}
		});
		mui.plusReady(function() {
			//聊天窗口
			document.getElementById("xj").addEventListener("tap", function() {
				var title = this.getAttribute("title");
				var pic = this.getAttribute("pic");
				mui.openWindow({
					url: 'im-chat.html',
					id: 'im-chat.html',
					show: {
						autoShow: true,
						aniShow: "slide-in-left",
						duration: 100,
					},
					waiting: {
						autoShow: true,
						title: "正在加载......"
					},
					extras: {
						title: title,
						pic: pic,
					}
				})
			});
			
			//图片预览
			var loopFlag = false; //默认不支持轮播
			var loopSwitch = document.getElementById('loop_switch');
			loopSwitch.addEventListener('toggle', function(event) {
				if(event.detail.isActive) {
					loopFlag = true;
				} else {
					loopFlag = false;
				}
			});
			var images = [].slice.call(document.querySelectorAll('.mui-content-padded img'));
			var urls = [];
			images.forEach(function(item) {
				urls.push(item.src);
			});
			mui('.mui-content-padded').on('tap', 'img', function() {
				var index = images.indexOf(this);
				plus.nativeUI.previewImage(urls, {
					current: index,
					loop: loopFlag,
					indicator: 'number'
				});
			});
		});
	</script>

</html>